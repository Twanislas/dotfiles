Host *.mgmt *.lan
  ProxyCommand ssh -q -F /dev/null -p 2200 bastion.twan.ovh -W %h:%p
  IdentityFile ~/.ssh/id_home

Host bastion.twan.ovh
  IdentityFile ~/.ssh/id_bastion
  Port 2200

Host rx01.mgmt rx01.lan
  IdentityFile ~/.ssh/id_rx01

Host pve*.mgmt pvr.lan
  User root

Host admin.mgmt
  IdentityFile ~/.ssh/id_home
  PermitLocalCommand yes
  LocalCommand ssh -o PermitLocalCommand=no %n "[[ -d ~/.dotfiles ]] && (which git >/dev/null && echo -e 'Updating dotfiles on %h ...' && git -C ~/.dotfiles pull -q && ~/.dotfiles/.install -Q) || (echo -e '\033[0;31mDotfiles are not installed for %r@%h !\033[0m')"

Host *.github.com github.com
  Hostname ssh.github.com
  Port 443
  User git
  ForwardX11 no
  ForwardAgent no
  PermitLocalCommand no
  IdentityFile ~/.ssh/id_github

Host *
  Protocol 2
  Compression yes
  ServerAliveInterval 5
  ForwardAgent yes
  ForwardX11 yes
  CheckHostIP yes
  VerifyHostKeyDNS yes
  IdentityFile ~/.ssh/sk_mbp.pub
  IdentityFile ~/.ssh/sk_wks.pub
  IdentityFile ~/.ssh/sk_backup.pub
  IdentityFile ~/.ssh/id_default.pub
