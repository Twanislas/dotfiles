Host *.home
  ProxyCommand ssh -q -F /dev/null bastion.twan.ovh -W %h:%p
  IdentityFile ~/.ssh/id_home

Host bastion.twan.ovh
  IdentityFile ~/.ssh/id_bastion

Host rx01.home
  IdentityFile ~/.ssh/id_rsa

Host pve01.home pvr.home
  User root

Host *.github.com github.com
  Hostname ssh.github.com
  Port 443
  User git
  ForwardX11 no
  ForwardAgent no
  PermitLocalCommand no
  IdentityFile ~/.ssh/id_github

Host *
  Protocol 2
  Compression yes
  ServerAliveInterval 5
  ForwardAgent yes
  ForwardX11 yes
  CheckHostIP yes
  VerifyHostKeyDNS yes
  PermitLocalCommand yes
  LocalCommand ssh -o PermitLocalCommand=no %n "[[ -d ~/.dotfiles ]] && (which git >/dev/null && echo -e 'Updating dotfiles on %h ...' && git -C ~/.dotfiles pull && ~/.dotfiles/.install -Q) || (echo -e '\033[0;31mDotfiles are not installed for %r@%h !\033[0m')"
  IdentityFile ~/.ssh/sk_mbp.pub
  IdentityFile ~/.ssh/sk_wks.pub
  IdentityFile ~/.ssh/sk_backup.pub
  IdentityFile ~/.ssh/id_default.pub
